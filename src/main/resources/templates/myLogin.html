<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <!-- meta data -->
    <meta charset="utf-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <link href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

    <!--font-family-->
    <link href="https://fonts.googleapis.com/css?family=Poppins:100,200,300,400,500,600,700,800,900&amp;subset=devanagari,latin-ext"
          rel="stylesheet">

    <!-- title of site -->
    <title>登录</title>

    <!-- For favicon png -->
    <link href="/assets/login/logo/favicon.png" rel="shortcut icon" type="image/icon"/>

    <!--font-awesome.min.css-->
    <link href="/assets/css/font-awesome.min.css" rel="stylesheet">

    <!--animate.css-->
    <link href="/assets/css/animate.css" rel="stylesheet">

    <!--bootstrap.min.css-->
    <link href="/assets/css/bootstrap.min.css" rel="stylesheet">

    <!-- bootsnav -->
    <link href="/assets/css/bootsnav.css" rel="stylesheet">

    <!--style.css-->
    <link href="/assets/css/style.css" rel="stylesheet">

    <!--responsive.css-->
    <link href="/assets/css/responsive.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->

    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->


</head>

<body>
<!--[if lte IE 9]>
<p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a
        href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
<![endif]-->

<!-- signin end -->
<section class="signin signup">
    <div class="container">
        <div class="sign-content popup-in-content">
            <div class="popup-in-txt">
                <h2>登 录</h2>
                <!--th:action="@{/user/login1}-->
                <div class="signin-form">
                    <!--表单 提交数据给当前页面-->
                    <form th:action="@{/login}" role="form" method="post">
                        <div class="form-group">
                            <label for="signin_form"><span class="glyphicon glyphicon-user"
                                                           style="color: rgb(140, 132, 251);"></span> 角色</label>

                            <select class="form-control" id="signin_form" required>
                                <option value="user">用户</option>
                                <option value="admin">管理员</option>
                            </select>
                        </div><!--/.form-group -->
                        <div class="form-group">
                            <label for="signin_form"> <span class="glyphicon glyphicon-phone"
                                                            style="color: rgb(140, 132, 251);"></span>
                                用户名</label>
                            <input class="form-control" id="username" placeholder="请输入用户名" required
                                   type="text" name="username">
                        </div><!--/.form-group -->
                        <div class="form-group">
                            <label for="signin_form"><span class="glyphicon glyphicon-lock"
                                                           style="color: rgb(140, 132, 251);"></span> 密码</label>
                            <input class="form-control" id="password" name="password" placeholder="请输入密码" required
                                   type="password">
                        </div><!--/.form-group -->
                        <div class="row">
                            <div class="col-sm-12">
                                <div class="signin-password">
                                    <!--										<div class="password-circle">-->
                                    <div class="checkbox pull-left">
                                        <label>
                                            <input type="checkbox"> 记住我
                                        </label>
                                    </div>

                                    <div class="single-forgot-password-circle pull-right">
                                      <p><a href="/forget">忘记密码</a></p>
                                    </div><!--/.single-password-circle-->
                                    <!--										</div>&lt;!&ndash;/.password-circle&ndash;&gt;-->
                                </div><!--/.signin-password -->
                            </div><!--/.col -->
                            <div class="col-sm-12">
                                <div class="signin-footer">
                                    <input class="btn signin_btn signin_btn_two" data-target=".signin_modal" data-toggle="modal"
                                            type="submit" value="登 录" >
                                        <p>
                                            还没有账号？
                                            <a href="/register">注 册</a>
                                        </p>
                                </div><!--/.signin-footer -->
                            </div><!--/.col -->
                        </div><!--/.row -->

                    </form><!--/form -->
                </div><!--/.signin-form -->
                <!--							</div>&lt;!&ndash;/.col &ndash;&gt;-->
                <!--						</div>&lt;!&ndash;/.row &ndash;&gt;-->


            </div><!-- .popup-in-txt -->
        </div><!--/.sign-content -->
    </div><!--/.container -->
</section><!--/.signin -->

<!-- signin end -->

<!--footer copyright start -->
<footer class="footer-copyright">
    <div id="scroll-Top">
        <i aria-hidden="true" class="fa fa-angle-double-up return-to-top" data-original-title="Back to Top"
           data-placement="top" data-toggle="tooltip" id="scroll-top" title=""></i>
    </div><!--/.scroll-Top-->

</footer><!--/.hm-footer-copyright-->
<!--footer copyright  end -->


<!-- Include all js compiled plugins (below), or include individual files as needed -->

<script src="/assets/js/jquery.js"></script>

<!--modernizr.min.js-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>

<!--bootstrap.min.js-->
<script src="/assets/js/bootstrap.min.js"></script>

<!-- bootsnav js -->
<script src="/assets/js/bootsnav.js"></script>

<!-- jquery.sticky.js -->
<script src="/assets/js/jquery.sticky.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>


<!--Custom JS-->
<script src="/assets/js/custom.js"></script>

<!-- 配置json解析，将登陆信息发送给/login -->
<script type="text/javascript">

    $("#submit").click(function () {
        var username = $("#username").val();
        var password = $("#password").val();
        console.log(username);
        $.ajax({
            type: "POST",
            dataType: "json",
            url: '/login',
            contentType: "application/json",
            data: JSON.stringify({
                "username": "" + username,
                "password": "" + password
            }),
            success: function (jsonData, result) {
                console.log("data is :" + result);
                if (jsonData["data"]["token"]) {
                    localStorage.setItem("hcs", jsonData["data"]["token"]);
                    window.location.href = "UserPage.html";
                } else {
                    console.log(jsonData["data"]["token"]);
                    alert("登录失败，请重试");
                }
            }
        });
    })
</script>
</body>

</html>