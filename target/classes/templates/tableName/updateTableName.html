<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <title>信息填报系统</title>
    <script src="webjars/jquery/3.5.0/jquery.min.js"></script>
    <script>
        $(document).ready(function(){
            var InputCount=0;
            var describe=$("#table_describe").attr("value");
            var len=describe.length;
            var Describe="";
            for(var i=0;i<len;i++){
                if(describe[i]=='#'){
                  InputCount++;
                  $("#InputsWrapper").append('<p>'+Describe+'</p>'+'<label></label><input type="text" name="news_' +  InputCount + '"' +'/><br/><br/>');
                  $("#len").attr('value',InputCount);
                  Describe="";
                }else{
                   Describe+=describe[i];
                }
            }
        });
    </script>
    <![endif]-->
</head>
<body>
<center><h2>修改表格信息</h2></center>
表格列表：<button th:id="AddMoreTextBox"><a src="addTable">添加表格项目</a></button>
<form method="post" th:action="@{/updateTableName}">
    <br/>
    <p>表格名:</p>
    <input type="text" name="table_name" th:value="${tablename.table_name}" ><br/><br/>
    <div id="InputsWrapper">

    </div>
    <input style="display:none" type="text" name="batch_name" th:value="${tablename.batch_name}">
    <input style="display:none" type="text" id="table_describe" th:value="${tablename.table_describe}">
    <input style="display:none" type="text" id="table_id" name="table_id" th:value="${tablename.id}">
    <input style="display:none" id="len" type="text" name="len" th:value="1">
    <input type="submit" name="edit" value="更改">
</form>
</body>
</html>
