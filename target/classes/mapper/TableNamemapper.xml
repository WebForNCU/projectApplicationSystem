<?xml version="1.0" encoding="UTF-8" ?>
<!-- resultMap最终还是要将结果映射到pojo上，type就是指定映射到哪一个pojo -->
<!-- id：设置ResultMap的id -->
<!DOCTYPE mapper
        PUBLIC ".//mybatis.org//DTD MAPPER 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.spring.security.dao.TableNameDao">

    <resultMap type="com.spring.security.entity.TableName" id="queryTableNameById">
        <!-- 定义主键 ,非常重要。如果是多个字段,则定义多个id -->
        <!-- property：主键在pojo中的属性名 -->
        <!-- column：主键在数据库中的列名 -->
        <id property="id" column="id" />
        <!-- 定义普通属性 -->
        <result property="table_name" column="table_name" />
        <result property="batch_name" column="batch_name" />
        <result property="table_describe" column="table_describe" />
    </resultMap>

    <select id="queryTableName" resultMap="queryTableNameById">
        select * from tablename where batch_name= #{batch_name}
    </select>

    <select id="queryTableNameID" resultType="java.lang.Integer">
        select max(id) from tablename
    </select>

    <insert id="addTableName" parameterType="com.spring.security.entity.TableName">
        insert into tablename(id,table_name ,batch_name,table_describe) values ( #{id}, #{table_name}, #{batch_name}, #{table_describe})
    </insert>

    <select id="queryTableNameById" resultMap="queryTableNameById">
        select id, table_name, batch_name, table_describe from tablename where id = #{id}
    </select>


    <update id="updateTableNameDate" parameterType="com.spring.security.entity.TableName">
        update tablename set table_name=#{table_name},batch_name=#{batch_name},table_describe=#{table_describe} where id=#{id}
    </update>


    <delete id="deleteTableName" parameterType="com.spring.security.entity.TableName">
        delete from tablename where table_name=#{table_name}
    </delete>
    <delete id="deleteByBatch" parameterType="com.spring.security.entity.TableName">
        delete from tablename where batch_name=#{batch_name}
    </delete>


    <select id="queryTableNameBatchName" parameterType="java.lang.String" resultType="java.lang.String">
        select batch_name from tablename where table_name = #{table_name}
    </select>

    <select id="queryTableNameDescribe" parameterType="java.lang.String" resultType="java.lang.String">
        select table_describe from tablename where table_name = #{table_name}
    </select>

    <select id="queryTableNameTableName"  parameterType="java.lang.String" resultType="java.lang.String">
        select table_name from tablename where batch_name = #{batch_name}
    </select>
    <!-- <select id="queryBacthById" resultType="com.spring.security.entity.Batch">
        select * from batch where id = #{id}
    </select>

    <insert id="addBatch" parameterType="com.spring.security.entity.Batch">
        insert into batch(id,batch_name) values ( #{id}, #{batch_name} )
    </insert>

    <update id="updateBatchDate" parameterType="com.spring.security.entity.Batch">
        update batch set batch_name=#{batch_name} where id=#{id}
    </update>

    <delete id="deleteBatch" parameterType="com.spring.security.entity.Batch">
        delete from batch where id=#{id}
    </delete>   -->




</mapper>